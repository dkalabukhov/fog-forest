1. Запуск docker-контейнера с postgres:
```
docker compose up -d
```
2. Создание .env файла. На основе .env.example файла создайте .env файл - заполните все поля с плейсхолдерами. .env файл требуется приложению для корректной работы.

3. JWT-secret. Чтобы сгенерировать JWT-secret можно воспользоваться следующей командой - введите в консоль:
```
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
```

4. GOOGLE_CLIENT_ID и GOOGLE_CLIENT_SECRET. Чтобы получить эти значения перейдите на сайт https://console.cloud.google.com/. Создайте новый проект. После создания проекта перейдите в настройку OAuth consent screen и выберите User Type: External (!) (затем заполните открывшуюся форму любыми данными). Далее перейдите в настройку Credentials, нажмите кнопу create credentials и выберите OAuth cliend ID. В открывшейся форме введите следующие данные: Application type - Web application, далее (важно!)
Authorized JavaScript orgins:
```
http://localhost:5000
```
Authorized redirect URIs
```
http://localhost:5000/auth/google/callback
```
После заполнения формы и ее отправки откроется модальное окно с CLIENt_ID и CLIENT_SECRET, которые нужно добавить в .env файл.

5. YOOKASSA_SHOP_ID и YOOKASSA_SECRET_KEY. Чтобы получить эти данные - нужно создать тестовый магазин по ссылке https://yookassa.ru/joinups?createTestShop=true После регистрации (указывать ИНН, ИП и так далее не нужно) вы увидите страницу тестового магазина. SHOP_ID скопируйте со страницы магазина. Чтобы получить SecretKey нужно зайти в "Интеграция" - "Ключи API" и скопировать секретный ключ.

6. HTTP-уведомления и автоматическая обработка платежа. В меню "Интеграция" - нажмите HTTP-уведомления. Добавьте в url уведомления следующие данные - см пункт 7.

7. Запуск туннеля. Чтобы платежи успешно обрабатывались нужно запустить туннель. Бесплатное решение - это https://tuna.am/ Зарегистрируйтесь, установите необходимое ПО по интрукции на сайте. Чтобы запустить туннель введите (сервер приложения должен быть уже запущен - см пункт 9) в консоль
```
tuna http 5000
```
Обратите внимание, что без платной подписки ваш туннель будет работать 30 минут без перезапуска и каждый раз он будет доступен по новому адресу.
Каждый раз при запуске туннеля (без домена) нужно будет вводить ваш туннель по новому в HTTP-уведомления юкассы. В HTTP-уведомления введите следующую строку
```
https://ваш-туннель/orders/status
```
8. Установка зависимотей. Введите команду:
```
npm i
```
9. Prisma. Для корректной работы программы введите следующие команды по порядку:
```
npx prisma db push
```
```
npx prisma generate
```
10. Запуск сервера. Итоги. Запускайте сервер при помощи следующей команды:
```
npm run start
```
Далее запускайте туннель
```
tuna http 5000
```
Затем обновляйте значение URL для уведомлений в юкассе.
Сервер полносью настроен.

11. Сидер базы данных еще не написан, поэтому для полноценной работы с проектом зарегистрируйте нового пользователя - для регистрации нажмите кнопку "Войти" (запуск фронтентда - см README.md client-side). Далее в таблице users измените у пользователя роль на ADMIN при помощи SQL-запроса, либо при помощи таких программ, как beekeeper studio или pgadmin. После чего выйдите из профиля и залогиньтесь заново. Теперь данный пользователь будет иметь права на управление магазином.
